name = "petaboo-api"
compatibility_date = "2024-09-23"
account_id = "e7ede1cb0525601a97c71931146a6696"
main = "apps/api/worker-d1.ts"
compatibility_flags = ["nodejs_compat"]

[[d1_databases]]
binding = "DB"
database_name = "petaboo"
database_id = "7de21e56-0d26-4204-8563-a57bca0772b4"

# R2 Buckets
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "petaboo-attachments"
preview_bucket_name = "petaboo-attachments-preview"

# Environment Variables (Secrets)
[vars]
# 一時的にテスト用として設定（実際はsecretを使うべき）
CLERK_SECRET_KEY = "sk_test_VGEcn7QzPdOl8UXxKlmKyAk9zWmm0oZ1x0pe1NyMxq"
CLERK_PUBLISHABLE_KEY = "pk_test_bWFpbi1jcmFuZS04Ni5jbGVyay5hY2NvdW50cy5kZXYk"
# 本番環境用フロントエンドURL
FRONTEND_URL = "https://petaboo.vercel.app"
# 本番環境用API URL
API_BASE_URL = "https://petaboo-api.workers.dev"

# ローカル開発環境用設定
[env.local.vars]
FRONTEND_URL = "http://localhost:7593"
API_BASE_URL = "http://localhost:7594"

# Workers Logs設定
[observability]
enabled = true